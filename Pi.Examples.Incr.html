<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Pi.Examples.Incr</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--exact-split</a> <a id="39" class="Pragma">--rewriting</a> <a id="51" class="Pragma">--overlapping-instances</a> <a id="75" class="Symbol">#-}</a>

<a id="80" class="Keyword">open</a> <a id="85" class="Keyword">import</a> <a id="92" href="HoTT.html" class="Module">HoTT</a> <a id="97" class="Keyword">hiding</a> <a id="104" class="Symbol">(</a><a id="105" href="lib.types.Nat.html#1866" class="Datatype Operator">_&lt;_</a> <a id="109" class="Symbol">;</a> <a id="111" href="lib.types.Nat.html#1894" class="InductiveConstructor">ltS</a> <a id="115" class="Symbol">;</a> <a id="117" href="lib.types.Nat.html#1922" class="InductiveConstructor">ltSR</a> <a id="122" class="Symbol">;</a> <a id="124" href="lib.types.Nat.html#291" class="Primitive Operator">_+_</a> <a id="128" class="Symbol">;</a> <a id="130" href="lib.types.Sigma.html#250" class="Function Operator">_×_</a><a id="133" class="Symbol">)</a>
<a id="135" class="Keyword">import</a> <a id="142" href="lib.types.Nat.html" class="Module">lib.types.Nat</a> <a id="156" class="Symbol">as</a> <a id="159" class="Module">N</a>
<a id="161" class="Keyword">import</a> <a id="168" href="lib.types.Sigma.html" class="Module">lib.types.Sigma</a> <a id="184" class="Symbol">as</a> <a id="187" class="Module">S</a>

<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Pi.UFin.BAut.html" class="Module">Pi.UFin.BAut</a>
<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Pi.Common.Misc.html" class="Module">Pi.Common.Misc</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Pi.Common.Extra.html" class="Module">Pi.Common.Extra</a>

<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Pi.Syntax.Pi%252B.Indexed.html" class="Module">Pi.Syntax.Pi+.Indexed</a> <a id="305" class="Symbol">as</a> <a id="308" class="Module">Pi+</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Pi.Syntax.Pi%255E.html" class="Module">Pi.Syntax.Pi^</a> <a id="338" class="Symbol">as</a> <a id="341" class="Module">Pi^</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Pi.Syntax.Pi%255EHelpers.html" class="Module">Pi.Syntax.Pi^Helpers</a> <a id="378" class="Symbol">as</a> <a id="381" class="Module">Pi^</a>
<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="Pi.Syntax.Pi.html" class="Module">Pi.Syntax.Pi</a> <a id="410" class="Symbol">as</a> <a id="413" class="Module">Pi</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Pi.Equiv.Translation.html" class="Module">Pi.Equiv.Translation</a>
<a id="449" class="Keyword">import</a> <a id="456" href="Pi.Equiv.Equiv1.html" class="Module">Pi.Equiv.Equiv1</a> <a id="472" class="Symbol">as</a> <a id="475" class="Module">Pi+</a>
<a id="479" class="Keyword">import</a> <a id="486" href="Pi.Equiv.Equiv0Hat.html" class="Module">Pi.Equiv.Equiv0Hat</a> <a id="505" class="Symbol">as</a> <a id="508" class="Module">Pi^</a>
<a id="512" class="Keyword">import</a> <a id="519" href="Pi.Equiv.Equiv1Hat.html" class="Module">Pi.Equiv.Equiv1Hat</a> <a id="538" class="Symbol">as</a> <a id="541" class="Module">Pi^</a>
<a id="545" class="Keyword">import</a> <a id="552" href="Pi.Equiv.Equiv0Norm.html" class="Module">Pi.Equiv.Equiv0Norm</a> <a id="572" class="Symbol">as</a> <a id="575" class="Module">Pi^</a>
<a id="579" class="Keyword">import</a> <a id="586" href="Pi.Equiv.Equiv1Norm.html" class="Module">Pi.Equiv.Equiv1Norm</a> <a id="606" class="Symbol">as</a> <a id="609" class="Module">Pi^</a>
<a id="613" class="Keyword">open</a> <a id="618" class="Keyword">import</a> <a id="625" href="Pi.UFin.UFin.html" class="Module">Pi.UFin.UFin</a>
<a id="638" class="Keyword">open</a> <a id="643" class="Keyword">import</a> <a id="650" href="Pi.UFin.Monoidal.html" class="Module">Pi.UFin.Monoidal</a>
<a id="667" class="Keyword">open</a> <a id="672" class="Keyword">import</a> <a id="679" href="Pi.Common.FinHelpers.html" class="Module">Pi.Common.FinHelpers</a>
<a id="700" class="Keyword">open</a> <a id="705" class="Keyword">import</a> <a id="712" href="Pi.Lehmer.FinExcept.html" class="Module">Pi.Lehmer.FinExcept</a>

<a id="733" class="Keyword">module</a> <a id="740" href="Pi.Examples.Incr.html" class="Module">Pi.Examples.Incr</a> <a id="757" class="Keyword">where</a>

<a id="764" class="Keyword">open</a> <a id="769" class="Keyword">import</a> <a id="776" href="Pi.Examples.Base.html" class="Module">Pi.Examples.Base</a>
<a id="793" class="Keyword">open</a> <a id="798" class="Keyword">import</a> <a id="805" href="Pi.Examples.Toffoli.html" class="Module">Pi.Examples.Toffoli</a>
<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="Pi.Examples.Reset.html" class="Module">Pi.Examples.Reset</a>

<a id="fst2last"></a><a id="856" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="865" class="Symbol">:</a> <a id="867" class="Symbol">∀</a> <a id="869" href="Pi.Examples.Incr.html#869" class="Bound">n</a> <a id="871" class="Symbol">→</a> <a id="873" href="Pi.Examples.Base.html#2265" class="Function">𝔹</a> <a id="875" href="Pi.Examples.Incr.html#869" class="Bound">n</a> <a id="877" href="Pi.Syntax.Pi.html#438" class="Datatype Operator">Pi.⟷₁</a> <a id="883" href="Pi.Examples.Base.html#2265" class="Function">𝔹</a> <a id="885" href="Pi.Examples.Incr.html#869" class="Bound">n</a>
<a id="887" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="896" href="lib.Base.html#6351" class="InductiveConstructor">O</a> <a id="898" class="Symbol">=</a> <a id="900" href="Pi.Syntax.Pi.html#1149" class="InductiveConstructor">id⟷₁</a>
<a id="905" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="914" class="Symbol">(</a><a id="915" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="917" href="lib.Base.html#6351" class="InductiveConstructor">O</a><a id="918" class="Symbol">)</a> <a id="920" class="Symbol">=</a> <a id="922" href="Pi.Syntax.Pi.html#1149" class="InductiveConstructor">id⟷₁</a>
<a id="927" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="936" class="Symbol">(</a><a id="937" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="939" class="Symbol">(</a><a id="940" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="942" href="lib.Base.html#6351" class="InductiveConstructor">O</a><a id="943" class="Symbol">))</a> <a id="946" class="Symbol">=</a> <a id="948" href="Pi.Syntax.Pi.html#596" class="InductiveConstructor">swap⋆</a>
<a id="954" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="963" class="Symbol">(</a><a id="964" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="966" class="Symbol">(</a><a id="967" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="969" class="Symbol">(</a><a id="970" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="972" href="Pi.Examples.Incr.html#972" class="Bound">n</a><a id="973" class="Symbol">)))</a> <a id="977" class="Symbol">=</a> <a id="979" href="Pi.Examples.Reset.html#828" class="Function">rearrange</a> <a id="989" href="Pi.Examples.Base.html#2155" class="Function">𝟚</a> <a id="991" href="Pi.Examples.Base.html#2155" class="Function">𝟚</a> <a id="993" class="Symbol">(</a><a id="994" href="Pi.Examples.Base.html#2265" class="Function">𝔹</a> <a id="996" class="Symbol">(</a><a id="997" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="999" href="Pi.Examples.Incr.html#972" class="Bound">n</a><a id="1000" class="Symbol">))</a> <a id="1003" href="Pi.Syntax.Pi.html#1167" class="InductiveConstructor Operator">◎</a> <a id="1005" class="Symbol">(</a><a id="1006" href="Pi.Syntax.Pi.html#1149" class="InductiveConstructor">id⟷₁</a> <a id="1011" href="Pi.Syntax.Pi.html#1281" class="InductiveConstructor Operator">⊗</a> <a id="1013" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="1022" class="Symbol">(</a><a id="1023" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1025" class="Symbol">(</a><a id="1026" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1028" href="Pi.Examples.Incr.html#972" class="Bound">n</a><a id="1029" class="Symbol">)))</a>

<a id="incr"></a><a id="1034" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1039" class="Symbol">:</a> <a id="1041" class="Symbol">∀</a> <a id="1043" href="Pi.Examples.Incr.html#1043" class="Bound">n</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="Pi.Examples.Base.html#2265" class="Function">𝔹</a> <a id="1049" href="Pi.Examples.Incr.html#1043" class="Bound">n</a> <a id="1051" href="Pi.Syntax.Pi.html#438" class="Datatype Operator">Pi.⟷₁</a> <a id="1057" href="Pi.Examples.Base.html#2265" class="Function">𝔹</a> <a id="1059" href="Pi.Examples.Incr.html#1043" class="Bound">n</a>
<a id="1061" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1066" href="lib.Base.html#6351" class="InductiveConstructor">O</a> <a id="1068" class="Symbol">=</a> <a id="1070" href="Pi.Syntax.Pi.html#1149" class="InductiveConstructor">id⟷₁</a>
<a id="1075" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1080" class="Symbol">(</a><a id="1081" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1083" href="lib.Base.html#6351" class="InductiveConstructor">O</a><a id="1084" class="Symbol">)</a> <a id="1086" class="Symbol">=</a> <a id="1088" href="Pi.Syntax.Pi.html#564" class="InductiveConstructor">swap₊</a>
<a id="1094" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1099" class="Symbol">(</a><a id="1100" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1102" class="Symbol">(</a><a id="1103" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1105" href="Pi.Examples.Incr.html#1105" class="Bound">n</a><a id="1106" class="Symbol">))</a> <a id="1109" class="Symbol">=</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Pi.Syntax.Pi.html#1149" class="InductiveConstructor">id⟷₁</a> <a id="1117" href="Pi.Syntax.Pi.html#1281" class="InductiveConstructor Operator">⊗</a> <a id="1119" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1124" class="Symbol">(</a><a id="1125" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1127" href="Pi.Examples.Incr.html#1105" class="Bound">n</a><a id="1128" class="Symbol">))</a> <a id="1131" href="Pi.Syntax.Pi.html#1167" class="InductiveConstructor Operator">◎</a> <a id="1133" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="1142" class="Symbol">(</a><a id="1143" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1145" class="Symbol">(</a><a id="1146" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1148" href="Pi.Examples.Incr.html#1105" class="Bound">n</a><a id="1149" class="Symbol">))</a> <a id="1152" href="Pi.Syntax.Pi.html#1167" class="InductiveConstructor Operator">◎</a> <a id="1154" href="Pi.Examples.Toffoli.html#2140" class="Function">toffoli</a> <a id="1162" class="Symbol">(</a><a id="1163" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1165" class="Symbol">(</a><a id="1166" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1168" href="Pi.Examples.Incr.html#1105" class="Bound">n</a><a id="1169" class="Symbol">))</a> <a id="1172" href="Pi.Syntax.Pi.html#1167" class="InductiveConstructor Operator">◎</a> <a id="1174" href="Pi.Syntax.Pi.html#1757" class="Function">Pi.!⟷₁</a> <a id="1181" class="Symbol">(</a><a id="1182" href="Pi.Examples.Incr.html#856" class="Function">fst2last</a> <a id="1191" class="Symbol">(</a><a id="1192" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1194" class="Symbol">(</a><a id="1195" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1197" href="Pi.Examples.Incr.html#1105" class="Bound">n</a><a id="1198" class="Symbol">)))</a>

<a id="incr^"></a><a id="1203" href="Pi.Examples.Incr.html#1203" class="Function">incr^</a> <a id="1209" class="Symbol">:</a> <a id="1211" class="Symbol">∀</a> <a id="1213" href="Pi.Examples.Incr.html#1213" class="Bound">n</a> <a id="1215" class="Symbol">→</a> <a id="1217" class="Symbol">_</a>
<a id="1219" href="Pi.Examples.Incr.html#1203" class="Function">incr^</a> <a id="1225" class="Symbol">=</a> <a id="1227" href="Pi.Equiv.Translation.html#4104" class="Function">eval₁</a> <a id="1233" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1235" href="Pi.Examples.Incr.html#1034" class="Function">incr</a>

<a id="incr+"></a><a id="1241" href="Pi.Examples.Incr.html#1241" class="Function">incr+</a> <a id="1247" class="Symbol">:</a> <a id="1249" class="Symbol">∀</a> <a id="1251" href="Pi.Examples.Incr.html#1251" class="Bound">n</a> <a id="1253" class="Symbol">→</a> <a id="1255" class="Symbol">_</a>
<a id="1257" href="Pi.Examples.Incr.html#1241" class="Function">incr+</a> <a id="1263" class="Symbol">=</a> <a id="1265" href="Pi.Equiv.Equiv1Hat.html#663" class="Function">Pi^.quote^₁</a> <a id="1277" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1279" href="Pi.Equiv.Equiv1Norm.html#1926" class="Function">Pi^.quoteNorm₁</a> <a id="1294" href="lib.Base.html#2004" class="InductiveConstructor">idp</a> <a id="1298" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1300" href="Pi.Equiv.Equiv1Norm.html#1554" class="Function">Pi^.evalNorm₁</a> <a id="1314" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1316" href="Pi.Examples.Incr.html#1203" class="Function">incr^</a>

<a id="incr+test"></a><a id="1323" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1333" class="Symbol">:</a> <a id="1335" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="1339" class="Number">4</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="1347" class="Number">4</a>
<a id="1349" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1359" class="Symbol">=</a> <a id="1361" href="lib.Equivalence.html#4804" class="Function">–&gt;</a> <a id="1364" class="Symbol">(</a><a id="1365" href="Pi.Equiv.Equiv1.html#957" class="Function">Pi+.eval₁</a> <a id="1375" class="Symbol">(</a><a id="1376" href="Pi.Examples.Incr.html#1241" class="Function">incr+</a> <a id="1382" class="Number">2</a><a id="1383" class="Symbol">))</a>

<a id="incr+test-0"></a><a id="1387" href="Pi.Examples.Incr.html#1387" class="Function">incr+test-0</a> <a id="1399" class="Symbol">:</a> <a id="1401" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1411" class="Number">0</a> <a id="1413" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1416" class="Number">1</a>
<a id="1418" href="Pi.Examples.Incr.html#1387" class="Function">incr+test-0</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="Pi.Common.Misc.html#5670" class="Function">fin=</a> <a id="1437" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>

<a id="incr+test-1"></a><a id="1442" href="Pi.Examples.Incr.html#1442" class="Function">incr+test-1</a> <a id="1454" class="Symbol">:</a> <a id="1456" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1466" class="Number">1</a> <a id="1468" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1471" class="Number">2</a>
<a id="1473" href="Pi.Examples.Incr.html#1442" class="Function">incr+test-1</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="Pi.Common.Misc.html#5670" class="Function">fin=</a> <a id="1492" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>

<a id="incr+test-2"></a><a id="1497" href="Pi.Examples.Incr.html#1497" class="Function">incr+test-2</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1521" class="Number">2</a> <a id="1523" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1526" class="Number">3</a>
<a id="1528" href="Pi.Examples.Incr.html#1497" class="Function">incr+test-2</a> <a id="1540" class="Symbol">=</a> <a id="1542" href="Pi.Common.Misc.html#5670" class="Function">fin=</a> <a id="1547" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>

<a id="incr+test-3"></a><a id="1552" href="Pi.Examples.Incr.html#1552" class="Function">incr+test-3</a> <a id="1564" class="Symbol">:</a> <a id="1566" href="Pi.Examples.Incr.html#1323" class="Function">incr+test</a> <a id="1576" class="Number">3</a> <a id="1578" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1581" class="Number">0</a>
<a id="1583" href="Pi.Examples.Incr.html#1552" class="Function">incr+test-3</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="Pi.Common.Misc.html#5670" class="Function">fin=</a> <a id="1602" href="lib.Base.html#2004" class="InductiveConstructor">idp</a>

<a id="1607" class="Keyword">open</a> <a id="1612" class="Keyword">import</a> <a id="1619" href="Pi.Examples.Interp.html" class="Module">Pi.Examples.Interp</a>

<a id="test-interp-incr2"></a><a id="1639" href="Pi.Examples.Incr.html#1639" class="Function">test-interp-incr2</a> <a id="1657" class="Symbol">=</a> <a id="1659" href="Pi.Examples.Interp.html#2998" class="Function">interp-elems</a> <a id="1672" class="Symbol">(</a><a id="1673" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1678" class="Number">2</a><a id="1679" class="Symbol">)</a>
<a id="test-interp-incr2+"></a><a id="1681" href="Pi.Examples.Incr.html#1681" class="Function">test-interp-incr2+</a> <a id="1700" class="Symbol">=</a> <a id="1702" href="Pi.Examples.Interp.html#3141" class="Function">interp+-elems</a> <a id="1716" class="Symbol">(</a><a id="1717" href="Pi.Equiv.Equiv1Hat.html#663" class="Function">Pi^.quote^₁</a> <a id="1729" class="Symbol">(</a><a id="1730" href="Pi.Equiv.Translation.html#4104" class="Function">eval₁</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Pi.Examples.Incr.html#1034" class="Function">incr</a> <a id="1742" class="Number">2</a><a id="1743" class="Symbol">)))</a>
<a id="test-interp-incr2^"></a><a id="1747" href="Pi.Examples.Incr.html#1747" class="Function">test-interp-incr2^</a> <a id="1766" class="Symbol">=</a> <a id="1768" href="Pi.Examples.Interp.html#3141" class="Function">interp+-elems</a> <a id="1782" class="Symbol">(</a><a id="1783" href="Pi.Examples.Incr.html#1241" class="Function">incr+</a> <a id="1789" class="Number">2</a><a id="1790" class="Symbol">)</a>
<a id="test-encode-interp-incr2"></a><a id="1792" href="Pi.Examples.Incr.html#1792" class="Function">test-encode-interp-incr2</a> <a id="1817" class="Symbol">=</a> <a id="1819" href="lib.types.List.html#4639" class="Function">map</a> <a id="1823" href="Pi.Examples.Interp.html#3461" class="Function">encode-interp-elems</a> <a id="1843" href="Pi.Examples.Incr.html#1639" class="Function">test-interp-incr2</a>
</pre></body></html>