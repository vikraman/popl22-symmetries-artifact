<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Pi.Coxeter.NormEquiv</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--rewriting</a> <a id="37" class="Pragma">--overlapping-instances</a> <a id="61" class="Symbol">#-}</a>

<a id="66" class="Keyword">module</a> <a id="73" href="Pi.Coxeter.NormEquiv.html" class="Module">Pi.Coxeter.NormEquiv</a> <a id="94" class="Keyword">where</a>

<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="HoTT.html" class="Module">HoTT</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Pi.Coxeter.Sn.html" class="Module">Pi.Coxeter.Sn</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Pi.Coxeter.Coxeter.html" class="Module">Pi.Coxeter.Coxeter</a>
<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Pi.Coxeter.LehmerSnEquiv.html" class="Module">Pi.Coxeter.LehmerSnEquiv</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Pi.Coxeter.LehmerCoxeterEquiv.html" class="Module">Pi.Coxeter.LehmerCoxeterEquiv</a> <a id="255" class="Keyword">renaming</a> <a id="264" class="Symbol">(</a><a id="265" href="Pi.Coxeter.LehmerCoxeterEquiv.html#995" class="Function">immersion</a> <a id="275" class="Symbol">to</a> <a id="immersion"></a><a id="278" href="Pi.Coxeter.NormEquiv.html#278" class="Function">immersionFull</a><a id="291" class="Symbol">)</a>
<a id="293" class="Keyword">open</a> <a id="298" class="Keyword">import</a> <a id="305" href="Pi.Coxeter.Norm.html" class="Module">Pi.Coxeter.Norm</a>
<a id="321" class="Keyword">open</a> <a id="326" class="Keyword">import</a> <a id="333" href="Pi.Lehmer.Lehmer2.html" class="Module">Pi.Lehmer.Lehmer2</a> <a id="351" class="Symbol">as</a> <a id="354" class="Module">L2</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Pi.Lehmer.Lehmer.html" class="Module">Pi.Lehmer.Lehmer</a> <a id="386" class="Symbol">as</a> <a id="389" class="Module">L1</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Pi.Common.Arithmetic.html" class="Module">Pi.Common.Arithmetic</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Pi.Common.InequalityEquiv.html" class="Module">Pi.Common.InequalityEquiv</a>

<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Pi.Common.Extra.html" class="Module">Pi.Common.Extra</a>
<a id="492" class="Keyword">open</a> <a id="497" class="Keyword">import</a> <a id="504" href="Pi.Common.Misc.html" class="Module">Pi.Common.Misc</a>

<a id="520" class="Keyword">variable</a>
    <a id="533" href="Pi.Coxeter.NormEquiv.html#533" class="Generalizable">n</a> <a id="535" class="Symbol">:</a> <a id="537" href="lib.Base.html#6333" class="Datatype">ℕ</a>

<a id="_↓_"></a><a id="540" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">_↓_</a> <a id="544" class="Symbol">:</a> <a id="546" class="Symbol">(</a><a id="547" href="Pi.Coxeter.NormEquiv.html#547" class="Bound">n</a> <a id="549" class="Symbol">:</a> <a id="551" href="lib.Base.html#6333" class="Datatype">ℕ</a><a id="552" class="Symbol">)</a> <a id="554" class="Symbol">-&gt;</a> <a id="557" class="Symbol">(</a><a id="558" href="Pi.Coxeter.NormEquiv.html#558" class="Bound">k</a> <a id="560" class="Symbol">:</a> <a id="562" href="lib.Base.html#6333" class="Datatype">ℕ</a><a id="563" class="Symbol">)</a> <a id="565" class="Symbol">-&gt;</a> <a id="568" href="lib.types.List.html#197" class="Datatype">List</a> <a id="573" class="Symbol">(</a><a id="574" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="578" class="Symbol">(</a><a id="579" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="581" class="Symbol">(</a><a id="582" href="Pi.Coxeter.NormEquiv.html#558" class="Bound">k</a> <a id="584" href="lib.types.Nat.html#291" class="Primitive Operator">+</a> <a id="586" href="Pi.Coxeter.NormEquiv.html#547" class="Bound">n</a><a id="587" class="Symbol">)))</a>
<a id="591" href="Pi.Coxeter.NormEquiv.html#591" class="Bound">n</a> <a id="593" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">↓</a> <a id="595" class="Number">0</a> <a id="597" class="Symbol">=</a> <a id="599" href="lib.types.List.html#236" class="InductiveConstructor">nil</a>
<a id="603" href="Pi.Coxeter.NormEquiv.html#603" class="Bound">n</a> <a id="605" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">↓</a> <a id="607" class="Symbol">(</a><a id="608" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="610" href="Pi.Coxeter.NormEquiv.html#610" class="Bound">k</a><a id="611" class="Symbol">)</a> <a id="613" class="Symbol">=</a> <a id="615" class="Symbol">((</a><a id="617" href="Pi.Coxeter.NormEquiv.html#610" class="Bound">k</a> <a id="619" href="lib.types.Nat.html#291" class="Primitive Operator">+</a> <a id="621" href="Pi.Coxeter.NormEquiv.html#603" class="Bound">n</a><a id="622" class="Symbol">)</a> <a id="624" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="626" href="lib.types.Nat.html#1922" class="InductiveConstructor">ltSR</a> <a id="631" href="lib.types.Nat.html#1894" class="InductiveConstructor">ltS</a><a id="634" class="Symbol">)</a> <a id="636" href="lib.types.List.html#251" class="InductiveConstructor Operator">::</a> <a id="639" href="lib.types.List.html#4639" class="Function">map</a> <a id="643" href="lib.types.Fin.html#356" class="Function">Fin-S</a> <a id="649" class="Symbol">(</a><a id="650" href="Pi.Coxeter.NormEquiv.html#603" class="Bound">n</a> <a id="652" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">↓</a> <a id="654" href="Pi.Coxeter.NormEquiv.html#610" class="Bound">k</a><a id="655" class="Symbol">)</a>

<a id="immersion"></a><a id="658" href="Pi.Coxeter.NormEquiv.html#658" class="Function">immersion</a> <a id="668" class="Symbol">:</a> <a id="670" href="Pi.Lehmer.Lehmer2.html#92" class="Function">L2.Lehmer</a> <a id="680" href="Pi.Coxeter.NormEquiv.html#533" class="Generalizable">n</a> <a id="682" class="Symbol">→</a> <a id="684" href="lib.types.List.html#197" class="Datatype">List</a> <a id="689" class="Symbol">(</a><a id="690" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="694" class="Symbol">(</a><a id="695" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="697" href="Pi.Coxeter.NormEquiv.html#533" class="Generalizable">n</a><a id="698" class="Symbol">))</a>
<a id="701" href="Pi.Coxeter.NormEquiv.html#658" class="Function">immersion</a> <a id="711" class="Symbol">{</a><a id="712" href="lib.Base.html#6351" class="InductiveConstructor">O</a><a id="713" class="Symbol">}</a> <a id="715" href="Pi.Coxeter.NormEquiv.html#715" class="Bound">c</a> <a id="717" class="Symbol">=</a> <a id="719" href="lib.types.List.html#236" class="InductiveConstructor">nil</a>
<a id="723" href="Pi.Coxeter.NormEquiv.html#658" class="Function">immersion</a> <a id="733" class="Symbol">{</a><a id="734" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="736" href="Pi.Coxeter.NormEquiv.html#736" class="Bound">n</a><a id="737" class="Symbol">}</a> <a id="739" class="Symbol">((</a><a id="741" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a> <a id="743" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="745" href="Pi.Coxeter.NormEquiv.html#745" class="Bound">ϕ</a><a id="746" class="Symbol">)</a> <a id="748" href="lib.Base.html#5477" class="InductiveConstructor Operator">,</a> <a id="750" href="Pi.Coxeter.NormEquiv.html#750" class="Bound">c</a><a id="751" class="Symbol">)</a> <a id="753" class="Symbol">=</a>
    <a id="759" class="Keyword">let</a> <a id="763" href="Pi.Coxeter.NormEquiv.html#763" class="Bound">x</a> <a id="765" class="Symbol">=</a> <a id="767" class="Symbol">((</a><a id="769" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="771" href="Pi.Coxeter.NormEquiv.html#736" class="Bound">n</a>  <a id="774" href="Pi.Common.Arithmetic.html#2124" class="Function Operator">∸</a> <a id="776" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a><a id="777" class="Symbol">)</a> <a id="779" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">↓</a> <a id="781" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a><a id="782" class="Symbol">)</a>
        <a id="792" href="Pi.Coxeter.NormEquiv.html#792" class="Bound">ψ</a> <a id="794" class="Symbol">:</a> <a id="796" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a> <a id="798" href="lib.types.Nat.html#291" class="Primitive Operator">+</a> <a id="800" class="Symbol">(</a><a id="801" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="803" href="Pi.Coxeter.NormEquiv.html#736" class="Bound">n</a> <a id="805" href="Pi.Common.Arithmetic.html#2124" class="Function Operator">∸</a> <a id="807" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a><a id="808" class="Symbol">)</a> <a id="810" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="813" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="815" href="Pi.Coxeter.NormEquiv.html#736" class="Bound">n</a>
        <a id="825" href="Pi.Coxeter.NormEquiv.html#792" class="Bound">ψ</a> <a id="827" class="Symbol">=</a> <a id="829" href="Pi.Common.Arithmetic.html#7705" class="Function">plus-minus</a> <a id="840" class="Symbol">{</a><a id="841" class="Argument">p</a> <a id="843" class="Symbol">=</a> <a id="845" href="Pi.Coxeter.NormEquiv.html#741" class="Bound">k</a><a id="846" class="Symbol">}</a> <a id="848" class="Symbol">{</a><a id="849" class="Argument">q</a> <a id="851" class="Symbol">=</a> <a id="853" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="855" href="Pi.Coxeter.NormEquiv.html#736" class="Bound">n</a><a id="856" class="Symbol">}</a> <a id="858" class="Symbol">(</a><a id="859" href="Pi.Common.Arithmetic.html#1278" class="Function">≤-down2</a> <a id="867" class="Symbol">(</a><a id="868" href="lib.Equivalence.html#4804" class="Function">–&gt;</a> <a id="871" href="Pi.Common.InequalityEquiv.html#258" class="Function">&lt;N≃&lt;</a> <a id="876" href="Pi.Coxeter.NormEquiv.html#745" class="Bound">ϕ</a><a id="877" class="Symbol">))</a>
    <a id="884" class="Keyword">in</a>  <a id="888" href="lib.types.List.html#4639" class="Function">map</a> <a id="892" href="lib.types.Fin.html#356" class="Function">Fin-S</a> <a id="898" class="Symbol">(</a><a id="899" href="Pi.Coxeter.NormEquiv.html#658" class="Function">immersion</a> <a id="909" href="Pi.Coxeter.NormEquiv.html#750" class="Bound">c</a><a id="910" class="Symbol">)</a> <a id="912" href="lib.types.List.html#330" class="Function Operator">++</a> <a id="915" href="lib.Base.html#4928" class="Function">transport</a> <a id="925" class="Symbol">(</a><a id="926" href="lib.types.List.html#197" class="Datatype">List</a> <a id="931" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="933" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="937" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="939" href="lib.Base.html#6359" class="InductiveConstructor">S</a><a id="940" class="Symbol">)</a> <a id="942" href="Pi.Coxeter.NormEquiv.html#792" class="Bound">ψ</a> <a id="944" href="Pi.Coxeter.NormEquiv.html#763" class="Bound">x</a>

<a id="immersion&#39;"></a><a id="947" href="Pi.Coxeter.NormEquiv.html#947" class="Function">immersion&#39;</a> <a id="958" class="Symbol">:</a> <a id="960" href="Pi.Lehmer.Lehmer.html#251" class="Datatype">L1.Lehmer</a> <a id="970" href="Pi.Coxeter.NormEquiv.html#533" class="Generalizable">n</a> <a id="972" class="Symbol">→</a> <a id="974" href="lib.types.List.html#197" class="Datatype">List</a> <a id="979" class="Symbol">(</a><a id="980" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="984" class="Symbol">(</a><a id="985" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="987" href="Pi.Coxeter.NormEquiv.html#533" class="Generalizable">n</a><a id="988" class="Symbol">))</a>
<a id="991" href="Pi.Coxeter.NormEquiv.html#947" class="Function">immersion&#39;</a> <a id="1002" class="Symbol">{</a><a id="1003" href="lib.Base.html#6351" class="InductiveConstructor">O</a><a id="1004" class="Symbol">}</a> <a id="1006" href="Pi.Lehmer.Lehmer.html#285" class="InductiveConstructor">CanZ</a> <a id="1011" class="Symbol">=</a> <a id="1013" href="lib.types.List.html#236" class="InductiveConstructor">nil</a>
<a id="1017" href="Pi.Coxeter.NormEquiv.html#947" class="Function">immersion&#39;</a> <a id="1028" class="Symbol">{</a><a id="1029" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1031" href="Pi.Coxeter.NormEquiv.html#1031" class="Bound">n</a><a id="1032" class="Symbol">}</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Pi.Lehmer.Lehmer.html#303" class="InductiveConstructor">CanS</a> <a id="1040" href="Pi.Coxeter.NormEquiv.html#1040" class="Bound">c</a> <a id="1042" class="Symbol">{</a><a id="1043" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a><a id="1044" class="Symbol">}</a> <a id="1046" href="Pi.Coxeter.NormEquiv.html#1046" class="Bound">ϕ</a><a id="1047" class="Symbol">)</a> <a id="1049" class="Symbol">=</a>
  <a id="1053" class="Keyword">let</a> <a id="1057" href="Pi.Coxeter.NormEquiv.html#1057" class="Bound">x</a> <a id="1059" class="Symbol">=</a> <a id="1061" class="Symbol">((</a><a id="1063" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1065" href="Pi.Coxeter.NormEquiv.html#1031" class="Bound">n</a>  <a id="1068" href="Pi.Common.Arithmetic.html#2124" class="Function Operator">∸</a> <a id="1070" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a><a id="1071" class="Symbol">)</a> <a id="1073" href="Pi.Coxeter.NormEquiv.html#540" class="Function Operator">↓</a> <a id="1075" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a><a id="1076" class="Symbol">)</a>
      <a id="1084" href="Pi.Coxeter.NormEquiv.html#1084" class="Bound">ψ</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a> <a id="1090" href="lib.types.Nat.html#291" class="Primitive Operator">+</a> <a id="1092" class="Symbol">(</a><a id="1093" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1095" href="Pi.Coxeter.NormEquiv.html#1031" class="Bound">n</a> <a id="1097" href="Pi.Common.Arithmetic.html#2124" class="Function Operator">∸</a> <a id="1099" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a><a id="1100" class="Symbol">)</a> <a id="1102" href="lib.Base.html#1953" class="Datatype Operator">==</a> <a id="1105" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1107" href="Pi.Coxeter.NormEquiv.html#1031" class="Bound">n</a>
      <a id="1115" href="Pi.Coxeter.NormEquiv.html#1084" class="Bound">ψ</a> <a id="1117" class="Symbol">=</a> <a id="1119" href="Pi.Common.Arithmetic.html#7705" class="Function">plus-minus</a> <a id="1130" class="Symbol">{</a><a id="1131" class="Argument">p</a> <a id="1133" class="Symbol">=</a> <a id="1135" href="Pi.Coxeter.NormEquiv.html#1043" class="Bound">k</a><a id="1136" class="Symbol">}</a> <a id="1138" class="Symbol">{</a><a id="1139" class="Argument">q</a> <a id="1141" class="Symbol">=</a> <a id="1143" href="lib.Base.html#6359" class="InductiveConstructor">S</a> <a id="1145" href="Pi.Coxeter.NormEquiv.html#1031" class="Bound">n</a><a id="1146" class="Symbol">}</a> <a id="1148" href="Pi.Coxeter.NormEquiv.html#1046" class="Bound">ϕ</a>
  <a id="1152" class="Keyword">in</a> <a id="1155" href="lib.types.List.html#4639" class="Function">map</a> <a id="1159" href="lib.types.Fin.html#356" class="Function">Fin-S</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Pi.Coxeter.NormEquiv.html#947" class="Function">immersion&#39;</a> <a id="1177" href="Pi.Coxeter.NormEquiv.html#1040" class="Bound">c</a><a id="1178" class="Symbol">)</a> <a id="1180" href="lib.types.List.html#330" class="Function Operator">++</a> <a id="1183" href="lib.Base.html#4928" class="Function">transport</a> <a id="1193" class="Symbol">(</a><a id="1194" href="lib.types.List.html#197" class="Datatype">List</a> <a id="1199" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1201" href="lib.types.Fin.html#173" class="Function">Fin</a> <a id="1205" href="lib.Base.html#10836" class="Function Operator">∘</a> <a id="1207" href="lib.Base.html#6359" class="InductiveConstructor">S</a><a id="1208" class="Symbol">)</a> <a id="1210" href="Pi.Coxeter.NormEquiv.html#1084" class="Bound">ψ</a> <a id="1212" href="Pi.Coxeter.NormEquiv.html#1057" class="Bound">x</a>

<a id="1215" class="Comment">-- immersion {S n} (CanS l {r} r≤1+n) = (immersion l) ++ (((S n) ∸ r) ↓ r)</a>

<a id="1291" class="Comment">{-
norm-immersion : {n : ℕ} (c : L1.Lehmer n) → norm (immersionFull c) == immersionFull c
norm-immersion {O} CanZ = idp
norm-immersion {S n} c = TODO-
-}</a>

<a id="Lehmer≃im-norm"></a><a id="1446" href="Pi.Coxeter.NormEquiv.html#1446" class="Function">Lehmer≃im-norm</a> <a id="1461" class="Symbol">:</a> <a id="1463" class="Symbol">{</a><a id="1464" href="Pi.Coxeter.NormEquiv.html#1464" class="Bound">n</a> <a id="1466" class="Symbol">:</a> <a id="1468" href="lib.Base.html#6333" class="Datatype">ℕ</a><a id="1469" class="Symbol">}</a> <a id="1471" class="Symbol">→</a> <a id="1473" href="Pi.Lehmer.Lehmer.html#251" class="Datatype">L1.Lehmer</a> <a id="1483" href="Pi.Coxeter.NormEquiv.html#1464" class="Bound">n</a> <a id="1485" href="lib.Equivalence.html#4492" class="Function Operator">≃</a> <a id="1487" href="Pi.Coxeter.Norm.html#1708" class="Function">im</a> <a id="1490" class="Number">-1</a> <a id="1493" class="Symbol">(</a><a id="1494" href="Pi.Coxeter.Norm.html#270" class="Function">norm</a> <a id="1499" class="Symbol">{</a><a id="1500" href="Pi.Coxeter.NormEquiv.html#1464" class="Bound">n</a><a id="1501" class="Symbol">})</a>
<a id="1504" href="Pi.Coxeter.NormEquiv.html#1446" class="Function">Lehmer≃im-norm</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="Pi.Coxeter.Norm.html#5226" class="Function">Sn≃im-norm</a> <a id="1532" href="lib.Equivalence.html#6100" class="Function Operator">∘e</a> <a id="1535" href="Pi.Coxeter.LehmerSnEquiv.html#448" class="Function">Lehmer≃Coxeter</a>
</pre></body></html>